<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    document.getElementsBySelector = function(selector){
        //如果不支持getElementsByTagName 直接返回空数组
        if(!document.getElementsByTagName){
            return new Array();
        }
        //切割css选择符，分解一个个单元（每个单元可能代表一个或几个选择器，比如p.aaa则由标签选择器与类选择器组成）
        var tokens = selector.split(' ');
        var currentContext = new Array(document);
        //从左到右检测每个单元，换言之此引擎是自顶向下选元素
        //我们的结果集如果中间为空，那么就立即中止此循环
        for(var i = 0; i < tokens.length; i++){
            //去掉两边的空白
            //两个选择器组之间的空白代表着后台选择器
            token = tokens[i].replace(/^\s+/,'');
            //如果包含ID选择器，这里略显粗糙，因为它可能在引号里面
            //此选择器支持到属性选择器，则代表着它可能是属性值的一部分
            if(token.indexOf('#') > -11){
                //这里假设这个选择器组以tag#id或#id的形式组成，可能导致BUG

            }
        }
    }
</script>
</body>
</html>